<!-- Èü≥È¢ëÊí≠ÊîæÂô®ÁªÑ‰ª∂ - Âî±ÁâáÊú∫È£éÊ†º -->
<view class="audio-player" wx:if="{{show}}">
  <!-- Êí≠ÊîæÂô®Â§¥ÈÉ® -->
  <view class="player-header">
    <view class="back-btn" bind:tap="closePlayer">
      <text class="back-icon">‚Äπ</text>
    </view>
    <view class="header-title">{{fileName || 'Èü≥È¢ëÊñá‰ª∂'}}</view>
    <view class="close-btn" bind:tap="closePlayer">
      <text class="close-icon">√ó</text>
    </view>
  </view>
  
  <!-- Âî±ÁâáÊú∫‰∏ª‰Ωì -->
  <view class="record-player-section">
    <view class="turntable-container">
      <!-- Âî±ÁâáÊú∫Â∫ïÂ∫ß -->
      <view class="turntable-base">
        <!-- Âî±Áâá -->
        <view class="record" style="transform: rotate({{rotationAngle}}deg);">
          <!-- Âî±ÁâáÂ∞ÅÈù¢ -->
          <view class="record-cover">
            <image wx:if="{{coverImage}}" src="{{coverImage}}" class="cover-image" mode="aspectFill"></image>
            <view wx:else class="cover-placeholder">
              <text class="placeholder-icon">üéµ</text>
            </view>
          </view>
          <!-- Âî±Áâá‰∏≠ÂøÉÂ≠î -->
          <view class="record-center"></view>
          <!-- Âî±ÁâáÁ∫πÁêÜ -->
          <view class="record-grooves">
            <view class="groove groove-1"></view>
            <view class="groove groove-2"></view>
            <view class="groove groove-3"></view>
            <view class="groove groove-4"></view>
          </view>
        </view>
        
        <!-- Âî±Èíà -->
        <view class="tonearm {{isPlaying ? 'playing' : ''}}">
          <view class="tonearm-base"></view>
          <view class="tonearm-arm"></view>
          <view class="tonearm-head"></view>
        </view>
      </view>
    </view>
  </view>
  
  <!-- Ê≠åÊõ≤‰ø°ÊÅØÂå∫Âüü -->
  <view class="song-info-section">
    <view class="song-details">
      <view class="artist-name">{{fileName || 'Êú™Áü•Ëâ∫ÊúØÂÆ∂'}}</view>
      <view class="song-index">{{currentTrackIndex + 1}} / {{totalTracks}}</view>
    </view>
  </view>
  
  <!-- ËøõÂ∫¶Êù°Âå∫Âüü -->
  <view class="progress-section">
    <view class="time-display">
      <text class="current-time">{{formatTime(currentTime)}}</text>
      <text class="duration">{{formatTime(duration)}}</text>
    </view>
    
    <!-- ËøõÂ∫¶Êù° -->
    <view class="progress-container">
      <slider 
        min="0" 
        max="{{duration}}" 
        value="{{currentTime}}" 
        show-value="{{false}}"
        block-size="20"
        block-color="#ffffff"
        activeColor="#e74c3c"
        backgroundColor="rgba(255,255,255,0.2)"
        bind:change="onSliderChange"
        bind:changing="onSliderChanging">
      </slider>
    </view>
    
  </view>
  
  <!-- Êí≠ÊîæÊéßÂà∂Âå∫Âüü -->
  <view class="player-controls">
    <view class="control-btn prev-btn" bind:tap="playPrevious">
      <text class="btn-icon">‚èÆ</text>
    </view>
    <view class="control-btn main-play-btn {{isPlaying ? 'playing' : ''}}" bind:tap="{{isPlaying ? 'pauseAudio' : 'playAudio'}}">
      <text class="btn-icon">{{isPlaying ? '‚è∏' : '‚ñ∂'}}</text>
    </view>
    <view class="control-btn next-btn" bind:tap="playNext">
      <text class="btn-icon">‚è≠</text>
    </view>
  </view>
</view>
