<!--æˆå‰§å›å“é¦–é¡µ-->
<view class="container">
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <view class="header">
    <view class="app-title">æˆå‰§å›å“</view>
    <view class="app-subtitle">æ”¶è—ä½ å–œçˆ±æ¼”å‘˜çš„ä¸“å±å£°éŸ³</view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading-container">
    <view class="loading-spinner"></view>
    <view class="loading-text">åŠ è½½ä¸­...</view>
  </view>

  <!-- ç©ºæ•°æ®çŠ¶æ€ -->
  <view wx:elif="{{!loading && actorsData.length === 0}}" class="empty-container">
    <view class="empty-icon">ğŸ­</view>
    <view class="empty-text">æš‚æ— æ¼”å‘˜æ•°æ®</view>
    <view class="empty-desc">è¯·å…ˆåˆå§‹åŒ–ç¤ºä¾‹æ•°æ®</view>
    <button class="empty-btn" bind:tap="goToInit">åˆå§‹åŒ–æ•°æ®</button>
  </view>

  <!-- è½®æ’­å›¾åŒºåŸŸï¼ˆæ˜¾ç¤ºæ‰€æœ‰æ¼”å‘˜å›¾ç‰‡ï¼‰ -->
  <swiper wx:elif="{{!loading && allImages.length > 0}}" class="carousel-swiper" current="{{currentSlide}}" circular="{{allImages.length > 1}}" duration="300" autoplay="{{false}}" indicator-dots="{{allImages.length > 1}}" indicator-color="rgba(255,255,255,0.4)" indicator-active-color="#ffffff" bindchange="onSwiperChange">
    <swiper-item wx:for="{{allImages}}" wx:key="index">
      <view class="carousel-slide" bindtap="onCarouselTap">
        <image class="slide-cover" mode="aspectFill" src="{{item.url}}" />
      </view>
    </swiper-item>
  </swiper>

  <!-- æ¼”å‘˜ä¿¡æ¯åŒºåŸŸ -->
  <view wx:if="{{!loading && currentActor}}" class="actor-info-section">
    <view class="actor-details">
      <view class="actor-name-display">{{currentActor.name}}</view>
      <view class="actor-title-display">{{currentActor.title}}</view>
      <view class="actor-description">{{currentActor.description}}</view>

      <view class="stats-container">
        <view class="stat-item">
          <text class="stat-number">{{currentActor.stats.guardianCount}}</text>
          <text class="stat-label">å®ˆæŠ¤è€…</text>
        </view>
        <view class="stat-item">
          <text class="stat-number">{{currentActor.stats.voicePackCount}}</text>
          <text class="stat-label">è¯­éŸ³åŒ…</text>
        </view>
      </view>


      <button class="enter-actor-space" bind:tap="enterActorSpace">
        è¿›å…¥ä¸“å±ç©ºé—´ âœ¨
      </button>
    </view>
  </view>

  <view class="bottom-spacing"></view>
</view>