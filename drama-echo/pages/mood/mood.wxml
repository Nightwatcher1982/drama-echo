<view class="container fade-in">
  <view class="page-title">心情戏剧台词</view>
  <view class="page-subtitle">让经典戏剧陪伴你的每一种心情</view>
  
  <!-- 每日限制提示 -->
  <view class="daily-limit-card glass-card">
    <view class="limit-header">
      <view class="limit-icon">💰</view>
      <view class="limit-info">
        <view class="limit-title">戏剧币奖励</view>
        <view class="limit-desc">每日心情记录可获得10戏剧币</view>
      </view>
      <view class="limit-status {{canShareToday ? 'available' : 'used'}}">
        {{canShareToday ? '可获得' : '已完成'}}
      </view>
    </view>
    <view class="limit-progress">
      <view class="progress-text">今日记录次数：{{todayShares}}/1</view>
      <view class="progress-bar">
        <view class="progress-fill" style="width: {{todayShares * 100}}%;"></view>
      </view>
    </view>
  </view>

  <!-- 心情分类选择 -->
  <view class="mood-categories glass-card">
    <view class="category-tab {{activeCategory === 'theater' ? 'active' : ''}}" 
          bindtap="switchCategory" data-category="theater">
      <view class="tab-icon">🎫</view>
      <view class="tab-text">戏剧时刻</view>
    </view>
    <view class="category-tab {{activeCategory === 'classic' ? 'active' : ''}}" 
          bindtap="switchCategory" data-category="classic">
      <view class="tab-icon">🎭</view>
      <view class="tab-text">经典情感</view>
    </view>
    <view class="category-tab {{activeCategory === 'modern' ? 'active' : ''}}" 
          bindtap="switchCategory" data-category="modern">
      <view class="tab-icon">🌟</view>
      <view class="tab-text">现代心境</view>
    </view>
  </view>
  
  <!-- 心情选择网格 -->
  <view class="mood-grid">
    <view class="mood-item glass-card" 
          wx:for="{{currentMoods}}" 
          wx:key="name" 
          bindtap="selectMood" 
          data-mood="{{item.name}}">
      <view class="mood-emoji">{{item.emoji}}</view>
      <view class="mood-name">{{item.name}}</view>
      <view class="mood-description">{{item.description}}</view>
    </view>
  </view>
  
  <!-- 最近心情记录 -->
  <view class="mood-history glass-card" wx:if="{{recentMoods.length > 0}}">
    <view class="section-title">
      <view class="title-icon">📝</view>
      <view class="title-text">最近的心情</view>
    </view>
    <view class="history-list">
      <view class="history-item" wx:for="{{recentMoods}}" wx:key="timestamp">
        <view class="history-emoji">{{item.emoji}}</view>
        <view class="history-content">
          <view class="history-mood">{{item.mood}}</view>
          <view class="history-date">{{item.date}}</view>
        </view>
        <view class="history-category">{{item.category === 'theater' ? '戏剧' : item.category === 'classic' ? '经典' : '现代'}}</view>
      </view>
    </view>
  </view>
  
  <view class="bottom-tip glass-card">
    <view class="tip-icon">🌟</view>
    <view class="tip-text">每一种心情都值得被戏剧化地记录和珍藏</view>
  </view>
</view> 