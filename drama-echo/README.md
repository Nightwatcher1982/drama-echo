# 戏剧回响 - Drama Echo

一个基于微信小程序的戏剧语音包分享平台，用户可以浏览演员的语音包，购买并播放戏剧相关的音频内容。

## 🎭 项目简介

戏剧回响是一个专注于戏剧文化的微信小程序，为用户提供：

- 🎭 **演员专区** - 浏览不同演员的语音包
- 🎵 **语音包购买** - 支持微信支付的语音包购买功能
- 🎬 **多媒体内容** - 支持图片、视频等多媒体展示
- 📱 **移动端优化** - 专为微信小程序优化的用户体验

## 🚀 技术栈

- **前端**: 微信小程序原生开发
- **后端**: 微信云开发 (CloudBase)
- **数据库**: 云数据库 (MongoDB)
- **存储**: 云存储
- **支付**: 微信支付 API

## 📁 项目结构

```
├── app.js                 # 小程序入口文件
├── app.json              # 小程序配置文件
├── app.wxss              # 全局样式文件
├── sitemap.json          # 站点地图配置
├── project.config.json   # 项目配置文件
├── pages/                # 页面文件
│   ├── index/           # 首页
│   ├── actor-detail/    # 演员详情页
│   ├── voice-echo/      # 戏剧回响页
│   ├── voice-pack-detail/ # 语音包详情页
│   ├── admin-voice/     # 语音包管理后台
│   └── ...
├── components/           # 自定义组件
│   └── voice-player/    # 语音播放器组件
├── cloudfunctions/      # 云函数
│   ├── createOrder/     # 创建订单
│   ├── payCallback/     # 支付回调
│   ├── getActors/       # 获取演员列表
│   ├── getVoicePackDetail/ # 获取语音包详情
│   └── ...
├── utils/               # 工具函数
└── images/              # 图片资源
```

## 🎯 核心功能

### 1. 演员管理
- 演员信息展示
- 演员语音包列表
- 演员图片和视频展示

### 2. 语音包系统
- 语音包详情展示
- 语音播放功能
- 图片和视频内容展示

### 3. 支付系统
- 微信支付集成
- 订单管理
- 购买记录

### 4. 管理后台
- 演员管理
- 语音包管理
- 内容上传功能

## 🛠️ 开发环境配置

### 1. 环境要求
- 微信开发者工具
- Node.js (用于云函数开发)

### 2. 云开发配置
1. 创建微信云开发环境
2. 配置云函数
3. 设置云数据库集合
4. 配置云存储权限

### 3. 微信支付配置
1. 申请微信支付商户号
2. 配置支付授权目录
3. 设置支付回调URL
4. 配置API密钥

## 📦 云函数说明

### 核心云函数
- `createOrder` - 创建订单和支付参数
- `payCallback` - 处理支付回调
- `getActors` - 获取演员列表
- `getVoicePackDetail` - 获取语音包详情
- `getUserPurchases` - 获取用户购买记录

### 数据库集合
- `actors` - 演员信息
- `voicePacks` - 语音包信息
- `orders` - 订单信息
- `user_purchases` - 用户购买记录

## 🎨 页面功能

### 主要页面
1. **首页** - 展示热门演员和语音包
2. **演员详情页** - 演员信息和语音包列表
3. **语音包详情页** - 语音包详细信息和播放
4. **戏剧回响页** - 轮播展示演员内容
5. **管理后台** - 内容管理功能

## 🔧 部署说明

### 1. 云函数部署
在微信开发者工具中右键点击云函数文件夹，选择"上传并部署：云端安装依赖"

### 2. 数据库初始化
运行初始化云函数创建基础数据

### 3. 支付配置
在微信支付商户平台配置授权目录和回调URL

## 📱 使用说明

1. 用户可以通过首页浏览热门演员
2. 点击演员进入详情页查看语音包
3. 点击语音包查看详情并购买
4. 购买后可以播放语音内容
5. 管理员可以通过后台管理内容

## 🤝 贡献指南

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- 项目 Issues
- 邮箱联系

---

**戏剧回响** - 让戏剧文化在移动端焕发新的生命力 🎭