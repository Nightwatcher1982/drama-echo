<!-- 语音包详情页 -->
<view class="container">
  <!-- 顶部导航 -->
  <view class="header">
    <view class="nav-bar">
      <view class="nav-left" bindtap="goBack">
        <text class="back-icon">‹</text>
      </view>
      <view class="nav-title">{{packInfo.name}}</view>
      <view class="nav-right" bindtap="sharePack">
        <text class="share-icon">⋯</text>
      </view>
    </view>
  </view>

  <!-- 语音包图片展示区域 -->
  <view class="photo-section">
    <swiper class="photo-swiper" indicator-dots="{{packInfo.images && packInfo.images.length > 1}}" autoplay="{{false}}" circular="{{packInfo.images && packInfo.images.length > 1}}">
      <swiper-item wx:for="{{packInfo.images}}" wx:key="index">
        <image 
          src="{{item}}" 
          class="photo-image" 
          mode="aspectFill"
          bindtap="previewPhoto"
          data-index="{{index}}"
        />
      </swiper-item>
    </swiper>
    
    <!-- 演员信息卡片 -->
    <view class="actor-card">
      <view class="actor-avatar">
        <image src="{{packInfo.actorAvatar}}" class="avatar-img" mode="aspectFill" />
      </view>
      <view class="actor-info">
        <view class="actor-name">{{packInfo.actorName}}</view>
        <view class="actor-title">{{packInfo.actorTitle}}</view>
      </view>
      <view class="pack-badge">{{packInfo.category}}</view>
    </view>
  </view>

  <!-- 语音包信息 -->
  <view class="pack-info-section">
    <view class="pack-title">{{packInfo.name}}</view>
    <view class="pack-description">{{packInfo.description}}</view>
    <view class="pack-stats">
      <view class="stat-item">
        <text class="stat-number">{{packInfo.totalDuration}}</text>
        <text class="stat-label">总时长</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{packInfo.voiceCount}}</text>
        <text class="stat-label">语音数</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{packInfo.images ? packInfo.images.length : 0}}</text>
        <text class="stat-label">图片数</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{packInfo.salesCount}}</text>
        <text class="stat-label">已售出</text>
      </view>
    </view>
  </view>

  <!-- 语音列表 -->
  <view class="voice-list-section">
    <view class="section-title">
      <text class="title-icon">🎵</text>
      <text class="title-text">语音内容</text>
    </view>
    
    <view class="voice-list">
      <view 
        class="voice-item {{currentPlaying === index ? 'playing' : ''}}" 
        wx:for="{{packInfo.voices}}" 
        wx:key="index"
        data-index="{{index}}"
      >
        <view class="voice-info">
          <view class="voice-title">{{item.title}}</view>
          <view class="voice-subtitle">{{item.subtitle}}</view>
          <view class="voice-duration">{{item.duration}}</view>
        </view>
        
        <view class="voice-controls">
          <!-- 播放按钮 -->
          <view 
            class="control-btn preview-btn" 
            bindtap="previewVoice"
            data-index="{{index}}"
          >
            <text class="btn-icon">{{currentPlaying === index ? '⏸' : '▶'}}</text>
            <text class="btn-text">播放</text>
          </view>
        </view>
        
        <!-- 播放进度条 -->
        <view class="progress-bar" wx:if="{{currentPlaying === index}}">
          <view class="progress" style="width: {{playProgress}}%"></view>
        </view>
      </view>
    </view>
  </view>


  <!-- 花絮视频预览 (如果有花絮视频) -->
  <view class="bonus-section" wx:if="{{packInfo.bonusVideoUrl}}">
    <view class="section-title">
      <text class="title-icon">🎬</text>
      <text class="title-text">独家花絮</text>
    </view>
    
    <view class="video-preview" bindtap="playBonusVideo">
      <image src="{{packInfo.bonusVideoThumb || 'https://picsum.photos/300/200?random=1'}}" class="video-thumb" mode="aspectFill" />
      <view class="play-overlay">
        <text class="play-icon">▶</text>
      </view>
      <view class="video-info">
        <text class="video-title">{{packInfo.bonusVideoTitle || '花絮视频'}}</text>
        <text class="video-duration">{{packInfo.bonusVideoDuration || '未知时长'}}</text>
      </view>
    </view>
  </view>

  <!-- 底部购买栏已移除 -->
</view>

<!-- 购买确认弹窗已移除 -->
