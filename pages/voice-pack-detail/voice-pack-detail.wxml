<!-- è¯­éŸ³åŒ…è¯¦æƒ…é¡µ -->
<view class="container">
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <view class="header">
    <view class="nav-bar">
      <view class="nav-left" bindtap="goBack">
        <text class="back-icon">â€¹</text>
      </view>
      <view class="nav-title">{{packInfo.name}}</view>
      <view class="nav-right" bindtap="sharePack">
        <text class="share-icon">â‹¯</text>
      </view>
    </view>
  </view>

  <!-- è¯­éŸ³åŒ…å›¾ç‰‡å±•ç¤ºåŒºåŸŸ -->
  <view class="photo-section">
    <swiper class="photo-swiper" indicator-dots="{{packInfo.images && packInfo.images.length > 1}}" autoplay="{{false}}" circular="{{packInfo.images && packInfo.images.length > 1}}">
      <swiper-item wx:for="{{packInfo.images}}" wx:key="index">
        <image 
          src="{{item}}" 
          class="photo-image" 
          mode="aspectFill"
          bindtap="previewPhoto"
          data-index="{{index}}"
        />
      </swiper-item>
    </swiper>
    
    <!-- æ¼”å‘˜ä¿¡æ¯å¡ç‰‡ -->
    <view class="actor-card">
      <view class="actor-avatar">
        <image src="{{packInfo.actorAvatar}}" class="avatar-img" mode="aspectFill" />
      </view>
      <view class="actor-info">
        <view class="actor-name">{{packInfo.actorName}}</view>
        <view class="actor-title">{{packInfo.actorTitle}}</view>
      </view>
      <view class="pack-badge">{{packInfo.category}}</view>
    </view>
  </view>

  <!-- è¯­éŸ³åŒ…ä¿¡æ¯ -->
  <view class="pack-info-section">
    <view class="pack-title">{{packInfo.name}}</view>
    <view class="pack-description">{{packInfo.description}}</view>
    <view class="pack-stats">
      <view class="stat-item">
        <text class="stat-number">{{packInfo.totalDuration}}</text>
        <text class="stat-label">æ€»æ—¶é•¿</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{packInfo.voiceCount}}</text>
        <text class="stat-label">è¯­éŸ³æ•°</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{packInfo.images ? packInfo.images.length : 0}}</text>
        <text class="stat-label">å›¾ç‰‡æ•°</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{packInfo.salesCount}}</text>
        <text class="stat-label">å·²å”®å‡º</text>
      </view>
    </view>
  </view>

  <!-- è¯­éŸ³åˆ—è¡¨ -->
  <view class="voice-list-section">
    <view class="section-title">
      <text class="title-icon">ğŸµ</text>
      <text class="title-text">è¯­éŸ³å†…å®¹</text>
    </view>
    
    <view class="voice-list">
      <view 
        class="voice-item {{currentPlaying === index ? 'playing' : ''}}" 
        wx:for="{{packInfo.voices}}" 
        wx:key="index"
        data-index="{{index}}"
      >
        <view class="voice-info">
          <view class="voice-title">{{item.title}}</view>
          <view class="voice-subtitle">{{item.subtitle}}</view>
          <view class="voice-duration">{{item.duration}}</view>
        </view>
        
        <view class="voice-controls">
          <!-- æ’­æ”¾æŒ‰é’® -->
          <view 
            class="control-btn preview-btn" 
            bindtap="previewVoice"
            data-index="{{index}}"
          >
            <text class="btn-icon">{{currentPlaying === index ? 'â¸' : 'â–¶'}}</text>
            <text class="btn-text">æ’­æ”¾</text>
          </view>
        </view>
        
        <!-- æ’­æ”¾è¿›åº¦æ¡ -->
        <view class="progress-bar" wx:if="{{currentPlaying === index}}">
          <view class="progress" style="width: {{playProgress}}%"></view>
        </view>
      </view>
    </view>
  </view>


  <!-- èŠ±çµ®è§†é¢‘é¢„è§ˆ (å¦‚æœæœ‰èŠ±çµ®è§†é¢‘) -->
  <view class="bonus-section" wx:if="{{packInfo.bonusVideoUrl}}">
    <view class="section-title">
      <text class="title-icon">ğŸ¬</text>
      <text class="title-text">ç‹¬å®¶èŠ±çµ®</text>
    </view>
    
    <view class="video-preview" bindtap="playBonusVideo">
      <image src="{{packInfo.bonusVideoThumb || 'https://picsum.photos/300/200?random=1'}}" class="video-thumb" mode="aspectFill" />
      <view class="play-overlay">
        <text class="play-icon">â–¶</text>
      </view>
      <view class="video-info">
        <text class="video-title">{{packInfo.bonusVideoTitle || 'èŠ±çµ®è§†é¢‘'}}</text>
        <text class="video-duration">{{packInfo.bonusVideoDuration || 'æœªçŸ¥æ—¶é•¿'}}</text>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨è´­ä¹°æ å·²ç§»é™¤ -->
</view>

<!-- è´­ä¹°ç¡®è®¤å¼¹çª—å·²ç§»é™¤ -->
